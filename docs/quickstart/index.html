<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Barlow:300,400" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="/fav.png">

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/css/fontawesome-all.min.css">
    <script src="/js/main.js"></script>

    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Quickstart - SophiaTX Developers</title>
<meta property="og:title" content="Quickstart" />
<meta name="description" content="SophiaTX Developers Documentation" />
<meta property="og:description" content="SophiaTX Developers Documentation" />
<link rel="canonical" href="https://developers.sophiatx.com/quickstart/" />
<meta property="og:url" content="https://developers.sophiatx.com/quickstart/" />
<meta property="og:site_name" content="SophiaTX Developers" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "WebPage",
"headline": "Quickstart",
"description": "SophiaTX Developers Documentation",
"url": "https://developers.sophiatx.com/quickstart/"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
<header>
    <h1>
        <button type="button" class="open-nav" id="open-nav"></button>
        <a href="/"  class="logo-link"><img src="/images/logo.svg" height="40" alt="SophiaTX Developers logo"></a>
    </h1>

    <form action="/search/" method="get">
        <input type="text" name="q" id="search-input" placeholder="Search">
        <input type="submit" value="Search" style="display: none;">
    </form>

    <div id="sidebar" class="sidebar">
	
	
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/">
		<h6 class="ctrl-nav-section title">Introduction</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/#introduction-welcome">Welcome to SophiaTX Developer Portal</a></li>
						
					
						
						<li><a href="/#introduction-sophiatx-blockchain">SophiaTX Blockchain</a></li>
						
					
						
						<li><a href="/#introduction-chain-basics">Chain Basics</a></li>
						
					
						
						<li><a href="/#introduction-transactions">Transactions</a></li>
						
					
						
						<li><a href="/#introduction-governance">Governance</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/quickstart/">
		<h6 class="ctrl-nav-section title">Quickstart</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/quickstart/#quickstart-setting-up-dev-enviroment">Setting up dev environment</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-technical-quickstart">Technical Quickstart</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-build-instructions">Build instructions</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-choose-sdk">Choose SDK</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-sophiatx-nodes">SophiaTX Nodes</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-testnet">SophiaTX testnet</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/tutorials/">
		<h6 class="ctrl-nav-section title">Tutorials</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/tutorials/#tutorials-guide-to-become-witness">How to become witness</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-guide-to-start-sync-node">How to start sync node</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-multiparty-encryption">Multiparty Encryption</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-subscription-api-quick-guide">Subscription API guide</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-using-sophiatx-to-send-hello-world-msg-via-api">Hello World via API calls</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-using-sophiatx-to-send-hello-world-msg">Hello World on SophiaTX</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-dynamic-global-properties">Understanding Dynamic Global Properties</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-guide-automatic-deploy">Node Deploy script</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-guide-custom-plugins">Custom plugins</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/sdks/">
		<h6 class="ctrl-nav-section title">SDK'S</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/sdks/#sdks-dotnet">C# SDK</a></li>
						
					
						
						<li><a href="/sdks/#sdks-javascript">Javascript SDK</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/apidefinitions/">
		<h6 class="ctrl-nav-section title">API'S</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/apidefinitions/#apidefinitions-introduction">Introduction</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-operations">Supported Operations</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-alexandria-api">Alexandria Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-database-api">Database Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-jsonrpc">Jsonrpc</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-network-broadcast-api">Network Broadcast Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-history-api">Account History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-block-api">Block Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-chain-api">Chain Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-custom-api">Custom Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-subscribe-api">Subscribe Api</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/demos/">
		<h6 class="ctrl-nav-section title">Demo's</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/cli_wallet/">
		<h6 class="ctrl-nav-section title">Cli Wallet</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/cli_wallet/#cli-wallet-introduction">Introduction</a></li>
						
					
						
						<li><a href="/cli_wallet/#cli-wallet-rpc-calls">RPC calls</a></li>
						
					
				
			
		</ul>
	</section>
	
</div>


    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
</header>
<div class="main" id="top">
    <div class="hero">
        <h1 class="hero__h1"> Quickstart</h1>
        <!--<img class="hero__img" src="/images/hero.png">-->
    </div>
    

	
	
		<section id="quickstart-setting-up-dev-enviroment" class="row quickstart-setting-up-dev-enviroment">
			<h3>
				<a id="quickstart-setting-up-dev-enviroment">
					Setting up dev environment
					
				</a>
			</h3>
			

			<h2 id="setting-up-dev-environment-on-ubuntu-18041">Setting up dev environment on Ubuntu 18.04.1</h2>
<p>For Ubuntu 18.04.1 users, after installing the right packages with <code class="highlighter-rouge">apt</code> AbilitiX
will build out of the box without further effort:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Required packages
sudo apt install -y \
    autoconf \
    automake \
    cmake \
    gcc \
    g++ \
    git \
    libbz2-dev \
    libssl-dev \
    libtool \
    make \
    pkg-config \
    python3 \
    python3-jinja2 \
    zlib1g-dev \
    libsqlite3-dev
    
# Boost packages (also required)
sudo apt-get install -y \
    libboost-chrono-dev \
    libboost-context-dev \
    libboost-coroutine-dev \
    libboost-date-time-dev \
    libboost-filesystem-dev \
    libboost-iostreams-dev \
    libboost-locale-dev \
    libboost-program-options-dev \
    libboost-serialization-dev \
    libboost-signals-dev \
    libboost-system-dev \
    libboost-test-dev \
    libboost-thread-dev

# Optional packages (not required, but will make a nicer experience)
sudo apt install -y \
    doxygen \
    libncurses5-dev \
    libreadline-dev \
    perl
    
git clone https://github.com/abilitiinc/AbilitiX
cd AbilitiX
git checkout master
git submodule update --init --recursive
</code></pre></div></div>

<h2 id="ide">IDE</h2>
<ul>
  <li>Now download CLion or other IDE for C/C++ development here: https://download.jetbrains.com/cpp/CLion-2019.1.4.tar.gz</li>
  <li>Open new project</li>
</ul>

<p><img src="images/open1.png" alt="open1" /></p>
<ul>
  <li>Select right folder</li>
</ul>

<p><img src="images/open2.png" alt="Open2" /></p>

<ul>
  <li>Wait till cmake finish configuration</li>
  <li>Then select right target to build</li>
</ul>

<p><img src="images/target.png" alt="Target" /></p>
<ul>
  <li>Run build</li>
</ul>

<p><img src="images/build.png" alt="Build" /></p>
<ul>
  <li>Wait until build is finished</li>
</ul>

<p><img src="images/building.png" alt="Building" /></p>


		</section>
	
		<section id="quickstart-technical-quickstart" class="row quickstart-technical-quickstart">
			<h3>
				<a id="quickstart-technical-quickstart">
					Technical Quickstart
					
				</a>
			</h3>
			

			<h3 id="pre-requisites">Pre-requisites</h3>

<ul>
  <li>A sufficient-sized and secure machine (Physical, VM or in the Cloud) with any NIX system (SUSE, openSUSE, Redhat, Ubuntu, Debian,etc.) pre-installed on it</li>
  <li>System requirements:
    <ul>
      <li>CPU:  min. 2 cores</li>
      <li>RAM: min. 4 GB</li>
      <li>Disk space –  &gt; 50GB (blockchain and OS)</li>
      <li>
        <p>Disk Partitions<br />
Recommended to create dedicated partition for storing blockchain database (data); sizing to be adjusted according to the size of the actual blockchain (e.g. 50 GB could be sufficient for 1 year at the time when SophiaTX MainNet was launched)</p>

        <p>for other partitions, setup and sizing, follow the best practice for NIX system installation</p>
      </li>
      <li>Network – the network should be reliable and fast (high speed connection with low latency), and the machine accessible via public IP</li>
      <li>
        <p>2 x 1Gb &gt;= Network adapter (second Network Interface Card (NIC) as a standby or failover interface in case the primary NIC fails. Can also be used for  load balancing)</p>
      </li>
      <li>The following are the port(s) to be opened for incoming traffic or connections:
        <h4 id="mandatory-port">MANDATORY PORT</h4>
        <p>60000 (default port nr. for P2P endpoint blockchain nodes communication)</p>
      </li>
    </ul>

    <p><code class="highlighter-rouge">p2p-endpoint = 0.0.0.0:60000</code></p>

    <h4 id="optional-ports">OPTIONAL PORTS</h4>
    <p>9193 (default port nr. for Local http endpoint for webserver requests)</p>

    <p><code class="highlighter-rouge">webserver-http-endpoint = a.b.c.d:9193</code></p>

    <p>9194 (default port nr. for Local https endpoint for webserver requests)</p>

    <p><code class="highlighter-rouge">webserver-https-endpoint = a.b.c.d:9194</code></p>

    <p>9191 (default port for Local web-socket endpoint for webserver requests)</p>

    <p><code class="highlighter-rouge"> webserver-ws-endpoint = a.b.c.d:9191</code></p>

    <p>There is no need to keep these 3 ports (http, https &amp; ws) open on the witness node.</p>

    <p>For any testing purposes on the witness node, restrict the usage of http, https &amp; ws ports for a limited time period and only to locahost = 127.0.0.1 or to a dedicated host IP – a.b.c.d. The setting to 0.0.0.0 is not recommended and to be avoided. Restrict accepting incoming http, https or ws requests to only specific IP or net. For net - define network as a.b.0.0 / for dedicated IP as a.b.c.d.</p>

    <p>All ports are configurable and can be subject to adjustment, either in the config.ini file or added as a parameter(s) upon the starting of sophiatxd deamon.</p>

    <p>Example of configuration of the network parameters (IP &amp; Ports) in config.ini:</p>

    <p>#### The local IP address and port to listen for incoming connections.</p>

    <p><code class="highlighter-rouge">p2p-endpoint = 154.32.0.0:61234 </code></p>

    <p>#### Local http endpoint for webserver requests.</p>

    <p><code class="highlighter-rouge">webserver-http-endpoint = 127.0.0.1:1193</code></p>

    <p>#### Local https endpoint for webserver requests.</p>

    <p><code class="highlighter-rouge">webserver-https-endpoint = 127.0.0.1:1194</code></p>

    <p>Note: In case of using webserver-https-endpoint, there are 2 others parameters required to be set for TLS to work:</p>

    <p>##### File with certificate chain to present on https connections</p>

    <p><code class="highlighter-rouge">https-certificate-chain-file = /path/to/cert-file</code></p>

    <p>##### File with https private key in PEM format</p>

    <p><code class="highlighter-rouge">https-private-key-file = /path/to/private-key-file</code></p>

    <p>#### Local websocket endpoint for webserver requests.</p>

    <p><code class="highlighter-rouge">webserver-ws-endpoint = 127.0.0.1:2291</code></p>

    <p>Example to start sophiatxd with adjusted network parameters:</p>

    <p><code class="highlighter-rouge">./sophiatxd -d /sphtxBCdata --p2p-endpoint 154.32.0.0:61234 --webserver-http-endpoint 127.0.0.1:1193 --webserver-https-endpoint 127.0.0.1:1194 --https-certificate-chain-file /path/to/cert-file --https-private-key-file /path/to/private-key-file --webserver-ws-endpoint 127.0.0.1:2291</code></p>
  </li>
</ul>

<h3 id="dedicated-operating-system-account-to-run-blockchain-applications">Dedicated Operating System account to run blockchain applications</h3>
<p>There is no urgency to install and run blockchain applications (daemon, wallet, …) under privileged account as a root.</p>

<p>In general, as your own user account, programs you run are restricted from writing to the rest of the system – they can only write to your “home” folder. You cannot modify system files without gaining root permissions first. This helps keep your computer secure.</p>

<p>To fulfil this requirement, it is recommended to create a dedicated user and group on NIX system</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* Group: sphtxgrp  
* Account: sphtxamd  
</code></pre></div></div>

<p><strong>!!! You must gain sufficient privileges (e.g. as a root user or you can also prefix the following commands with the sudo command to run them as a non-privileged user to create a group and an account!!!</strong></p>

<p>CLI commands to add group and account. The basic syntax of the command to Create/Add a new Group. As a root user you will type and run this command from command line.</p>

<p><code class="highlighter-rouge"># groupadd sphtxgrp </code></p>

<p>or as a john user you will type and run this command from command line.</p>

<p><code class="highlighter-rouge">john@EUGREEN02:~&gt; sudo groupadd sphtxgrp</code></p>

<p>In the next steps follow the same principle for running the commands either as  a root user or as any other OS user by using  the sudo command 
  The basic syntax of the command to Create/Add a new User with Specific Home Directory, Default Shell and Custom Comment from command line:</p>

<p><code class="highlighter-rouge"># useradd -m -g sphtxgrp -d /home/sphtxadm -s /bin/bash -c "SophiaTX Blockchain Owner" sphtxadm</code></p>

<p>To set password for user sphtxamd</p>

<p><code class="highlighter-rouge"># passwd sphtxadm </code></p>

<p>There are many other possibilities how to create users and groups in the NIX system – just follow NIX documentation / best praxis.</p>

<h2 id="install-sophiatx-blockchain">Install SophiaTX blockchain</h2>

<p>To store blockchain data, it is suggested to create and have mounted a supplemental dedicated partition/file system. Subject of pre-requisites. Create subdirectory sphtxBCdata in the / directory and adjust ownership &amp; permissions to user sphtxadm.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mkdir /sphtxBCdata 
# chown sphtxadm:sphtxgrp /sphtxBCdata 
</code></pre></div></div>
<p>Make sure that dedicated partition and file system for blockdata is mounted under previously created directory sphtxBCdata. Don’t forget to adjust /etc/fstab accordingly in order to avoid problems after rebooting the OS.<br />
To validate that a dedicated partition is mounted under /sphtxBCdata, launch the  mount command.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mount 
sysfs on /sys type sysfs (rw,nosuid,nodev,noexec,relatime) 
proc on /proc type proc (rw,nosuid,nodev,noexec,relatime) 
devtmpfs on /dev type devtmpfs (rw,nosuid,size=2011880k,nr_inodes=502970,mode=755) 
securityfs on /sys/kernel/security type securityfs (rw,nosuid,nodev,noexec,relatime) 
tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev,size=8388608k) 
devpts on /dev/pts type devpts (rw,nosuid,noexec,relatime,gid=5,mode=620,ptmxmode=000) 
tmpfs on /run type tmpfs (rw,nosuid,nodev,mode=755) 
/dev/sda2 on /sphtxBCdata type xfs (rw,relatime,attr2,inode64,noquota) 
</code></pre></div></div>

<p>If no record about /sphtxBCdata is found in the output, then you have to mount the partition as follows: 
In case there exists sdb2 partition issue the following command from command line</p>

<p><code class="highlighter-rouge"># mount /dev/sdb2 /sphtxBCdata </code></p>

<p>There are many other options on how to check and mount the file system under specific directory and make sure it will be mounted automatically after the reboot. Just follow NIX documentation / best praxis.</p>

<p>The following commands to be executed as a sphtxadm user. You may log in as sphtxadm user, or switch to sphtxadm user by issuing of the following command:</p>

<p><code class="highlighter-rouge"># su - sphtxadm</code></p>

<p>Create and change to subdirectory sphtxd in home directory of sphtxadm user</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sphtxadm@EUGREEN02:~&gt; mkdir sphtxd 
sphtxadm@EUGREEN02:~&gt; cd sphtxd 
</code></pre></div></div>
<p>Go &amp; Download the latest version of sophiatx binary and config files from the GitHub repository https://github.com/SophiaTX/SophiaTX/releases</p>

<h4 id="unpack-downloaded-sophiatxtargz-file">Unpack downloaded sophiatx.tar.gz file</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sphtxadm@EUGREEN02:~/sphtxd&gt; tar -xvf sophiatx.tar.gz 
cli_wallet 
sophiatxd 
witness_config.ini 
fullnode_config.ini
</code></pre></div></div>
<p>If required, adjust witness_config.ini and get it copied as config.ini into the blockchain data directory. Make sure that ownership and privileges of the config file are set accordingly.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sphtxadm@EUGREEN02:~/sphtxd&gt;  chmod 600 ./witness_config.ini 
sphtxadm@EUGREEN02:~/sphtxd&gt;  chown sphtxadm:sphtxgrp ./witness_config.ini 
sphtxadm@EUGREEN02:~/sphtxd&gt;  ls -l ./witness_config.ini 
-rw------- 1 sphatxdm sphtxgrp     5671 Jul 25 17:26 witness_config.ini 
</code></pre></div></div>
<p>There might be a few reasons to update the config.ini file. Adjust witness private key and name of witness controlled by node</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>witness = “&lt;name of witness&gt;” 
private-key = &lt;WIF Private Key&gt;
</code></pre></div></div>
<p>Example</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>witness = "I889UHminer" 
private-key = 5IJY3b9FgfsGtxMeLkLqXzUrQDMAsqSyAZDnMBkg7PDDRhQgaV 
</code></pre></div></div>
<p>Adjust a list of plugins</p>
<h4 id="mandatory-plugins--required-to-run-witness-node">Mandatory plugin(s) – required to run witness node</h4>

<p><code class="highlighter-rouge">plugin = witness</code></p>

<h4 id="optional-plugins--not-required-to-run-witness-node">Optional plugin(s) – NOT required to run witness node</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#plugin = alexandria_api
#plugin = block_api 
#plugin = network_broadcast_api 
#plugin = database_api 
#plugin = alexandria_api 
#plugin = account_history 
#plugin = account_history_api 
#plugin = account_by_key 
#plugin = chain_api 
#plugin = custom_api 
</code></pre></div></div>
<p>Adjust a default port number for P2P endpoint blockchain nodes communication</p>

<p><code class="highlighter-rouge">p2p-endpoint = 0.0.0.0:60000</code></p>

<p>Make sure that “enable-stale-production” is set on true</p>

<p><code class="highlighter-rouge">enable-stale-production = true</code></p>

<p>Copy witness_config.ini into config.ini in the blockchain data directory</p>

<p><code class="highlighter-rouge">sphtxadm@EUGREEN02:~/sphtxd&gt;  cp ./witness_config.ini /sphtxBCdata/config.ini</code></p>

<p><strong>To run SophiaTX Witness node and produce blocks (meaning being eligible to validate the transactions embedded in the  blocks) you need to be one of the elected SophiaTX witnesses</strong></p>

<h4 id="run-sophiatx-witness">Run SophiaTX Witness</h4>

<p>There are two options to launch and run the SophiaTX witness node. When all mandatory parameters have been embedded in config.ini file, you may run the witness node with the following command:</p>

<p><code class="highlighter-rouge">sophiatxd -d &lt;data_dir&gt;</code></p>

<p>Example</p>

<p><code class="highlighter-rouge">sphtxadm@EUGREEN02:~/sphtxd&gt;  ./sophiatxd -d /sphtxBCdata</code></p>

<p>Parameters to be entered from command line.</p>

<p><code class="highlighter-rouge">sophiatxd -d &lt;data_dir&gt; --enable-stale-production true –-witness ‘&lt;witness_name&gt;’ --private-key &lt;WIF Private Key&gt; --plugin witness</code></p>

<p>Example:</p>

<p><code class="highlighter-rouge">sphtxadm@EUGREEN02:~/sphtxd&gt;  ./sophiatxd -d /sphtxBCdata --enable-stale-production true --witness '" I889UHminer"' --private-key 5JPwY3bwFgfsGtxMeLkLqXzUrQDMAsqSyAZDnMBkg7PDDRhQgaV --plugin witness</code></p>


		</section>
	
		<section id="quickstart-build-instructions" class="row quickstart-build-instructions">
			<h3>
				<a id="quickstart-build-instructions">
					Build instructions
					
				</a>
			</h3>
			

			<h3 id="compile-time-options-cmake">Compile-Time Options (cmake)</h3>

<h5 id="cmake_build_typereleasedebug">CMAKE_BUILD_TYPE=[Release/Debug]</h5>

<p>Specifies whether to build with or without optimization and without or with
the symbol table for debugging. Unless you are specifically debugging or
running tests, it is recommended to build as release.</p>

<h5 id="low_memory_nodeoffon">LOW_MEMORY_NODE=[OFF/ON]</h5>

<p>Builds sophiatxd to be a consensus-only low memory node. Data and fields not
needed for consensus are not stored in the object database.  This option is
recommended for witnesses and seed-nodes.</p>

<h5 id="clear_votesonoff">CLEAR_VOTES=[ON/OFF]</h5>

<p>Clears old votes from memory that are no longer required for consensus.</p>

<h5 id="build_sophiatx_testnetoffon">BUILD_SOPHIATX_TESTNET=[OFF/ON]</h5>

<p>Builds sophiatx for use in a private testnet. Also required for building unit tests.</p>

<h5 id="skip_by_tx_idoffon">SKIP_BY_TX_ID=[OFF/ON]</h5>

<p>By default this is off. Enabling will prevent the account history plugin querying transactions 
by id, but saving around 65% of CPU time when reindexing. Enabling this option is a
huge gain if you do not need this functionality.</p>

<h2 id="building-on-ubuntu-18041">Building on Ubuntu 18.04.1</h2>
<p>For Ubuntu 18.04.1 users, after installing the right packages with <code class="highlighter-rouge">apt</code> SophiaTX
will build out of the box without further effort:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Required packages
sudo apt install -y \
    autoconf \
    automake \
    cmake \
    gcc \
    g++ \
    git \
    libbz2-dev \
    libssl-dev \
    libtool \
    make \
    pkg-config \
    python3 \
    python3-jinja2 \
    zlib1g-dev \
    libsqlite3-dev
    
# Boost packages (also required)
sudo apt-get install -y \
    libboost-chrono-dev \
    libboost-context-dev \
    libboost-coroutine-dev \
    libboost-date-time-dev \
    libboost-filesystem-dev \
    libboost-iostreams-dev \
    libboost-locale-dev \
    libboost-program-options-dev \
    libboost-serialization-dev \
    libboost-signals-dev \
    libboost-system-dev \
    libboost-test-dev \
    libboost-thread-dev

# Optional packages (not required, but will make a nicer experience)
sudo apt install -y \
    doxygen \
    libncurses5-dev \
    libreadline-dev \
    perl
    
git clone https://github.com/SophiaTX/SophiaTX
cd SophiaTX
git checkout master
git submodule update --init --recursive
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
make -j$(nproc) sophiatxd
make -j$(nproc) cli_wallet

# optional
make install  # defaults to /usr/local
</code></pre></div></div>

<h2 id="building-boost-167">Building Boost 1.67</h2>

<p>SophiaTX requires Boost 1.65 and works with versions up to 1.69 (including).
Here is how to build and install Boost 1.67 into your user’s home directory</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export BOOST_ROOT=$HOME/opt/boost_1_67_0
URL='http://sourceforge.net/projects/boost/files/boost/1.67.0/boost_1_67_0.tar.gz'
wget "$URL"
[ $( sha256sum boost_1_67_0.tar.gz | cut -d ' ' -f 1 ) == \
    "8aa4e330c870ef50a896634c931adf468b21f8a69b77007e45c444151229f665" ] \
    || ( echo 'Corrupt download' ; exit 1 )
tar xzf boost_1_67_0.tar.gz
cd boost_1_67_0
./bootstrap.sh "--prefix=$BOOST_ROOT"
./b2 -j$(nproc) install
</code></pre></div></div>

<h2 id="building-on-other-platforms">Building on Other Platforms</h2>

<ul>
  <li>
    <p>Windows build instructions are available here https://github.com/SophiaTX/SophiaTX/wiki/Setting-up-Windows-build-enviroment</p>
  </li>
  <li>The developers normally compile with gcc and clang. These compilers should
be well-supported.</li>
  <li>Community members occasionally attempt to compile the code with mingw,
Intel and Microsoft compilers. These compilers may work, but the
developers do not use them. Pull requests fixing warnings / errors from
these compilers are accepted.</li>
</ul>

		</section>
	
		<section id="quickstart-choose-sdk" class="row quickstart-choose-sdk">
			<h3>
				<a id="quickstart-choose-sdk">
					Choose SDK
					
				</a>
			</h3>
			

			<p>Getting started to develop robust and feature rich <strong>SophiaTX</strong> applications couldn’t be easier. Accessing sophiaTX data is easy from various options depending on your infrastructure and objectives.</p>

<p>Building a picture discovery app is a breeze with the <a href="/sdks/#sdks-javascript">JavaScript</a> and <a href="/sdks/#sdks-dotnet">C#</a> available. More SDK’s might be developed in the future.</p>

		</section>
	
		<section id="quickstart-sophiatx-nodes" class="row quickstart-sophiatx-nodes">
			<h3>
				<a id="quickstart-sophiatx-nodes">
					SophiaTX Nodes
					
				</a>
			</h3>
			

			<p>There are basically 3 types of nodes(functionalities that a node can represent) on SophiaTX blockchain. 
All of them use the same binary, the only difference is in configuration:</p>
<ul>
  <li><strong>Full Node</strong> <a href="https://github.com/SophiaTX/SophiaTX/blob/develop/contrib/fullnode_config.ini">(config)</a> - opened API’s.
<em>To run a full node (ca. 4GB of memory is required at the moment).</em></li>
  <li><strong>Seed Node</strong> <a href="https://">(config)</a> - opened p2p port for syncing blockchain state with other nodes
<em>To run a full node (ca. 2GB of memory is required at the moment).</em></li>
  <li><strong>Witness Node</strong> <a href="https://github.com/SophiaTX/SophiaTX/blob/develop/contrib/fullnode_config.ini">(config)</a> - configured to create blocks and take part in blockchain consensus algorithm
<em>To run a full node (ca. 2GB of memory is required at the moment).</em></li>
</ul>

<p>Connection options / opened ports:</p>
<ul>
  <li>&lt;url&gt;:<strong>9191</strong> : websocket endpoint</li>
  <li>&lt;url&gt;:<strong>9193</strong> : http endpoint</li>
  <li>&lt;url&gt;:<strong>9194</strong> : https endpoint - not supported on public nodes yet</li>
  <li>&lt;url&gt;:<strong>60000</strong> : p2p endpoint - syncing the blockchain state</li>
</ul>

<p>Applications that interface directly with the SophiaTX public blockchain will need to connect to a <code class="highlighter-rouge">sophiatxd</code> node. 
Developers may choose to use one of the public API nodes that are available, or run their own instance of a node.</p>

<p>SophiaTX provides separate public <a href="#public-full-nodes">Full</a> and <a href="#public-seed-nodes">Seed</a> Nodes.</p>

<h4 id="public-full-nodes">Public Full Nodes</h4>

<p>Full Nodes have enabled API’s plugins so all <a href="/apidefinitions/#apidefinitions-alexandria-api">Alexandria API calls</a> are available.</p>

<table>
  <thead>
    <tr>
      <th>URL</th>
      <th>Owner</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>socket1.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>socket2.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
  </tbody>
</table>

<h4 id="public-seed-nodes">Public Seed Nodes</h4>

<p>Seed Nodes are only for syncing the state of blockchain. No API’s are enabled (only p2p port 60000 is opened). 
Users can setup these as “p2p-seed-node” in config.</p>

<table>
  <thead>
    <tr>
      <th>URL</th>
      <th>Owner</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>seednode1.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode2.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode3.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode4.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode5.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode6.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
  </tbody>
</table>

<h4 id="public-witness-nodes">Public Witness Nodes</h4>

<p>There are no public witness nodes.</p>

<h3 id="syncing-blockchain-public-network">Syncing blockchain (public network)</h3>

<p>Normally syncing blockchain starts from very first, <code class="highlighter-rouge">0</code> genesis block. It might take long time to catch up with live network. 
Because it connectes to various p2p nodes in the SophiaTX network and requests blocks from 0 to head block. 
It stores blocks in block log file and builds up the current state in the shared memory file. 
But there is a way to bootstrap syncing by using trusted <code class="highlighter-rouge">block_log</code> file. 
The block log is an external append only log of the blocks. 
It contains blocks that are only added to the log after they are irreversible because the log is append only.</p>

<p>Trusted block log file helps to download blocks faster. SophiaTX, provides public downloadable 
<a href="https://mega.nz/#!bJwCnQgQ!XincxIHD5XRl3vKqQT3xe4mgkqkeQ_8tKzD34tmXDek">block_log</a> and 
<a href="https://mega.nz/#!Sc5gXShT!_6W8Ptu4HrU3TMUE5067RKP0qkNQADnJCy7d4Y-YyLw">block_log.index</a> files. 
As of April 2019, size of both files is ~1 GB.</p>

<p>To download these files, megatools can be used on linux:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install megatools
megadl '&lt;url&gt;'

Note: as url use block_log &amp; block_log.index links above
</code></pre></div></div>

<p>Block log should be place in <code class="highlighter-rouge">blockchain</code> directory below <code class="highlighter-rouge">data_dir</code> and node should be started with <code class="highlighter-rouge">--replay-blockchain</code> 
to ensure block log is valid and continue to sync from the point of snapshot. 
Replay uses the downloaded block log file to build up the shared memory file up to the highest block stored in that snapshot and then 
continues with sync up to the head block.</p>

<p>Replay helps to sync blockchain in much faster rate, but as blockchain grows in size replay might also take some time to verify blocks.</p>

<h5 id="few-other-tricks-that-might-help">Few other tricks that might help:</h5>

<p>For Linux users, virtual memory writes dirty pages of the shared file out to disk more often than is optimal which results in sophiatxd 
being slowed down by redundant IO operations. These settings are recommended to optimize reindex time.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo    75 | sudo tee /proc/sys/vm/dirty_background_ratio
echo  1000 | sudo tee /proc/sys/vm/dirty_expire_centisecs
echo    80 | sudo tee /proc/sys/vm/dirty_ratio
echo 30000 | sudo tee /proc/sys/vm/dirty_writeback_centisecs
</code></pre></div></div>
<p><br /></p>

<p>Another settings that can be changed in <code class="highlighter-rouge">config.ini</code> is <code class="highlighter-rouge">flush-state-interval</code> - it is to specify a target number of blocks to process before flushing the chain database to disk. This is needed on Linux machines and a value of 100000 is recommended. It is not needed on OS X, but can be used if desired.</p>

		</section>
	
		<section id="quickstart-testnet" class="row quickstart-testnet">
			<h3>
				<a id="quickstart-testnet">
					SophiaTX testnet
					
				</a>
			</h3>
			

			<p>SophiaTX blockchain software is written in C++ and in order to modify the source code you need some understanding of the C++ programming language. Each SophiaTX node runs an instance of this software, so in order to test your changes, you will need to know how to install dependencies which can be found in the <a href="https://github.com/SophiaTX/SophiaTX/blob/master/doc/building.md">SophiaTX repo</a>. This also means that some knowledge of System administration is also required. There are multiple advantages of running a testnet, you can test your scripts or applications on a testnet without extra spam on the live network, which allows much more flexibility to try new things. Having access to a testnet also helps you to work on new features and possibly submit new or improved pull requests to official the SophiaTX GitHub repository.</p>

<h2 id="sophiatxs-testnet">SophiaTX’s Testnet</h2>

<p>SophiaTX maintains a live testnet to which you can connect. In the near future, we expect the chain id to update with every code change. To get the current chain id for any HF20+ SophiaTX testnet you can use the <a href="/apidefinitions/#database_api.get_version">database_api.get_version</a> api call (curl example included for your convenience). Be sure to point it at an api node on the testnet for which you want information!</p>

<p>At the time of this writing, the connection information for SophiaTX’s testnet is as follows:</p>

<ul>
  <li>ChainID: <code class="highlighter-rouge">46d82ab7d8db682eb1959aed0ada039a6d49afa1602491f93dde9cac3e8e6c32</code></li>
  <li>Address prefix: <code class="highlighter-rouge">TST</code></li>
  <li>API node: <code class="highlighter-rouge">https://...sophiatx.com</code></li>
</ul>

<h2 id="running-a-testnet-node">Running a Testnet Node</h2>

<p>First, let’s build <code class="highlighter-rouge">sophiatxd</code> specifically for testnet.  Recommended specs:</p>

<ul>
  <li><code class="highlighter-rouge">Ubuntu Server 16.04 LTS</code></li>
  <li><code class="highlighter-rouge">100GB HDD</code></li>
  <li><code class="highlighter-rouge">16GB RAM</code> (mostly needed for <code class="highlighter-rouge">sophiatxd</code> build)</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TODO: provide testnet build instructions
</code></pre></div></div>

<h3 id="configini"><code class="highlighter-rouge">config.ini</code></h3>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="py">log-console-appender</span> <span class="p">=</span> <span class="s">{"appender":"stderr","stream":"std_error"}</span>
<span class="py">log-file-appender</span> <span class="p">=</span> <span class="s">{"appender":"p2p","file":"logs/p2p/p2p.log"}</span>
<span class="py">log-logger</span> <span class="p">=</span> <span class="s">{"name":"default","level":"info","appender":"stderr"}</span>
<span class="py">log-logger</span> <span class="p">=</span> <span class="s">{"name":"p2p","level":"warn","appender":"p2p"}</span>

<span class="py">backtrace</span> <span class="p">=</span> <span class="s">yes</span>
<span class="py">plugin</span> <span class="p">=</span> <span class="s">chain p2p webserver witness database_api network_broadcast_api block_api </span>

<span class="py">shared-file-dir</span> <span class="p">=</span> <span class="s">"blockchain"</span>
<span class="py">shared-file-size</span> <span class="p">=</span> <span class="s">12G</span>
<span class="py">p2p-endpoint</span> <span class="p">=</span> <span class="s">0.0.0.0:2001</span>
<span class="py">webserver-http-endpoint</span> <span class="p">=</span> <span class="s">0.0.0.0:8751</span>
<span class="py">webserver-ws-endpoint</span> <span class="p">=</span> <span class="s">0.0.0.0:8752</span>

<span class="c"># testnet.sophiatx.com
</span><span class="py">p2p-seed-node</span> <span class="p">=</span> 
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sophiatxd <span class="nt">--data-dir</span><span class="o">=</span><span class="nb">.</span> <span class="nt">--chain-id</span><span class="o">=</span>46d82ab7d8db682eb1959aed0ada039a6d49afa1602491f93dde9cac3e8e6c32
</code></pre></div></div>

<p>Now let it sync, and you’ll have a shiny new testnet seed node to play with.</p>

<h2 id="custom-testnet">Custom Testnet</h2>

<p>In order to create a custom, isolated, testnet separate from the SophiaTX’s we need to modify a few things mentioned in the previous section.</p>

<p>In the file named <code class="highlighter-rouge">SophiaTX/libraries/protocol/include/SophiaTX/protocol/config.hpp</code>, we can see the first few lines dedicated to the Testnet section. The line starts with <code class="highlighter-rouge">#ifdef IS_TEST_NET</code>.</p>

<p>Let’s say we want to create a custom testnet with an initial supply of <strong>1,000,000 sphtx</strong>. We can change <code class="highlighter-rouge">SOPHIATX_INIT_SUPPLY 1,000,000</code> and by changing <code class="highlighter-rouge">SOPHIATX_CHAIN_ID_NAME "testnet"</code>, <strong>testnet</strong> to <strong>mytestnet</strong> we will automatically get a unique Chain ID for our testnet. The address prefix can be set to something like <strong>MTN</strong> and of course, we need to change the public and private keys to the genesis account. Note that the genesis account will receive the entire pre-mined supply of 1,000,000. That way, you can execute a setup script to fund any newly created accounts. Such a custom testnet will not have any additional hardware requirements to run.</p>

<p>A minimum of 8GB RAM should be sufficient to run a custom testnet. Currently, SophiaTX only has Linux and Mac compiling guides to build. A testnet can either be hosted locally, on a rented AWS, or dedicated bare metal servers so one can start testing functionality, explore different APIs, and start developing.</p>

<p>One more crucial point to modify is to change the number of witnesses required to accept hardforks for a custom testnet, by default it is set to 17, we can change it to <strong>1</strong> <code class="highlighter-rouge">SOPHIATX_HARDFORK_REQUIRED_WITNESSES 1</code> so that only one node instance would be sufficient and the network will be still functional and fast.</p>

<p>Another thing to note is that you can start a new chain with all previous hardforks already accepted, by changing the file named <code class="highlighter-rouge">SophiaTX/blob/master/libraries/chain/database.cpp</code> with the following function:</p>

<p><code class="highlighter-rouge">void database::init_genesis( uint64_t init_supply )</code> inside <code class="highlighter-rouge">try</code> add this line:</p>

<p><code class="highlighter-rouge">set_hardfork( 19, true );</code></p>

<p>This would mean that 19 hardforks have been accepted by witnesses and the new chain will start with all previous forks included.</p>

<p>After these changes, all we have to do is compile the source code and get the <code class="highlighter-rouge">sophiatxd</code> executable. And once we fire up the custom testnet we can start testing and experimenting.</p>


		</section>
	


</div>
<div class="footer">
    <a href="#">↑ Back to top</a>
</div>
<script>
    document.getElementById("open-nav").addEventListener("click", function () {
        document.body.classList.toggle("nav-open");
    });
</script>
</body>
</html>

<script src="/js/adjust.js"></script>
