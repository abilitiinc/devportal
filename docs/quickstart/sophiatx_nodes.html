<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" >

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Barlow:300,400" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="/fav.png">

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/css/fontawesome-all.min.css">
    <script src="/js/main.js"></script>

    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>SophiaTX Nodes - SophiaTX Developers</title>
<meta property="og:title" content="SophiaTX Nodes" />
<meta name="description" content="There are basically 3 types of nodes(functionalities that a node can represent) on SophiaTX blockchain. All of them use the same binary, the only difference is in configuration: Full Node (config) - opened API’s. To run a full node (ca. 4GB of memory is required at the moment). Seed Node (config) - opened p2p port for syncing blockchain state with other nodes To run a full node (ca. 2GB of memory is required at the moment). Witness Node (config) - configured to create blocks and take part in blockchain consensus algorithm To run a full node (ca. 2GB of memory is required at the moment)." />
<meta property="og:description" content="There are basically 3 types of nodes(functionalities that a node can represent) on SophiaTX blockchain. All of them use the same binary, the only difference is in configuration: Full Node (config) - opened API’s. To run a full node (ca. 4GB of memory is required at the moment). Seed Node (config) - opened p2p port for syncing blockchain state with other nodes To run a full node (ca. 2GB of memory is required at the moment). Witness Node (config) - configured to create blocks and take part in blockchain consensus algorithm To run a full node (ca. 2GB of memory is required at the moment)." />
<link rel="canonical" href="https://developers.sophiatx.com/quickstart/sophiatx_nodes" />
<meta property="og:url" content="https://developers.sophiatx.com/quickstart/sophiatx_nodes" />
<meta property="og:site_name" content="SophiaTX Developers" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "WebPage",
"headline": "SophiaTX Nodes",
"description": "There are basically 3 types of nodes(functionalities that a node can represent) on SophiaTX blockchain. All of them use the same binary, the only difference is in configuration: Full Node (config) - opened API’s. To run a full node (ca. 4GB of memory is required at the moment). Seed Node (config) - opened p2p port for syncing blockchain state with other nodes To run a full node (ca. 2GB of memory is required at the moment). Witness Node (config) - configured to create blocks and take part in blockchain consensus algorithm To run a full node (ca. 2GB of memory is required at the moment).",
"url": "https://developers.sophiatx.com/quickstart/sophiatx_nodes"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
<header>
    <h1>
        <button type="button" class="open-nav" id="open-nav"></button>
        <a href="/"  class="logo-link"><img src="/images/logo.svg" height="40" alt="SophiaTX Developers logo"></a>
    </h1>

    <form action="/search/" method="get">
        <input type="text" name="q" id="search-input" placeholder="Search">
        <input type="submit" value="Search" style="display: none;">
    </form>

    <div id="sidebar" class="sidebar">
	
	
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/">
		<h6 class="ctrl-nav-section title">Introduction</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/#introduction-welcome">Welcome to SophiaTX Developer Portal</a></li>
						
					
						
						<li><a href="/#introduction-sophiatx-blockchain">SophiaTX Blockchain</a></li>
						
					
						
						<li><a href="/#introduction-chain-basics">Chain Basics</a></li>
						
					
						
						<li><a href="/#introduction-transactions">Transactions</a></li>
						
					
						
						<li><a href="/#introduction-governance">Governance</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/quickstart/">
		<h6 class="ctrl-nav-section title">Quickstart</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/quickstart/#quickstart-setting-up-dev-enviroment">Setting up dev environment</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-technical-quickstart">Technical Quickstart</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-build-instructions">Build instructions</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-choose-sdk">Choose SDK</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-sophiatx-nodes">SophiaTX Nodes</a></li>
						
					
						
						<li><a href="/quickstart/#quickstart-testnet">SophiaTX testnet</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/tutorials/">
		<h6 class="ctrl-nav-section title">Tutorials</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/tutorials/#tutorials-guide-to-become-witness">How to become witness</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-guide-to-start-sync-node">How to start sync node</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-multiparty-encryption">Multiparty Encryption</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-subscription-api-quick-guide">Subscription API guide</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-using-sophiatx-to-send-hello-world-msg-via-api">Hello World via API calls</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-using-sophiatx-to-send-hello-world-msg">Hello World on SophiaTX</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-dynamic-global-properties">Understanding Dynamic Global Properties</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-guide-automatic-deploy">Node Deploy script</a></li>
						
					
						
						<li><a href="/tutorials/#tutorials-guide-custom-plugins">Custom plugins</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/sdks/">
		<h6 class="ctrl-nav-section title">SDK'S</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/sdks/#sdks-dotnet">C# SDK</a></li>
						
					
						
						<li><a href="/sdks/#sdks-javascript">Javascript SDK</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/apidefinitions/">
		<h6 class="ctrl-nav-section title">API'S</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/apidefinitions/#apidefinitions-introduction">Introduction</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-operations">Supported Operations</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-alexandria-api">Alexandria Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-database-api">Database Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-jsonrpc">Jsonrpc</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-network-broadcast-api">Network Broadcast Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-account-history-api">Account History Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-block-api">Block Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-chain-api">Chain Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-custom-api">Custom Api</a></li>
						
					
						
						<li><a href="/apidefinitions/#apidefinitions-subscribe-api">Subscribe Api</a></li>
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/demos/">
		<h6 class="ctrl-nav-section title">Demo's</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
					
				
			
		</ul>
	</section>
	
		
    <section class="pnl-main-nav-section main-nav-section" url="/cli_wallet/">
		<h6 class="ctrl-nav-section title">Cli Wallet</h6>
		<ul class="cont-nav-section content">
			
				
					
					
						
						<li><a href="/cli_wallet/#cli-wallet-introduction">Introduction</a></li>
						
					
						
						<li><a href="/cli_wallet/#cli-wallet-rpc-calls">RPC calls</a></li>
						
					
				
			
		</ul>
	</section>
	
</div>


    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
</header>
<div class="main" id="top">
    <div class="hero">
        <h1 class="hero__h1"></h1>
        <!--<img class="hero__img" src="/images/hero.png">-->
    </div>
    <p>There are basically 3 types of nodes(functionalities that a node can represent) on SophiaTX blockchain. 
All of them use the same binary, the only difference is in configuration:</p>
<ul>
  <li><strong>Full Node</strong> <a href="https://github.com/SophiaTX/SophiaTX/blob/develop/contrib/fullnode_config.ini">(config)</a> - opened API’s.
<em>To run a full node (ca. 4GB of memory is required at the moment).</em></li>
  <li><strong>Seed Node</strong> <a href="https://">(config)</a> - opened p2p port for syncing blockchain state with other nodes
<em>To run a full node (ca. 2GB of memory is required at the moment).</em></li>
  <li><strong>Witness Node</strong> <a href="https://github.com/SophiaTX/SophiaTX/blob/develop/contrib/fullnode_config.ini">(config)</a> - configured to create blocks and take part in blockchain consensus algorithm
<em>To run a full node (ca. 2GB of memory is required at the moment).</em></li>
</ul>

<p>Connection options / opened ports:</p>
<ul>
  <li>&lt;url&gt;:<strong>9191</strong> : websocket endpoint</li>
  <li>&lt;url&gt;:<strong>9193</strong> : http endpoint</li>
  <li>&lt;url&gt;:<strong>9194</strong> : https endpoint - not supported on public nodes yet</li>
  <li>&lt;url&gt;:<strong>60000</strong> : p2p endpoint - syncing the blockchain state</li>
</ul>

<p>Applications that interface directly with the SophiaTX public blockchain will need to connect to a <code class="highlighter-rouge">sophiatxd</code> node. 
Developers may choose to use one of the public API nodes that are available, or run their own instance of a node.</p>

<p>SophiaTX provides separate public <a href="#public-full-nodes">Full</a> and <a href="#public-seed-nodes">Seed</a> Nodes.</p>

<h4 id="public-full-nodes">Public Full Nodes</h4>

<p>Full Nodes have enabled API’s plugins so all <a href="/apidefinitions/#apidefinitions-alexandria-api">Alexandria API calls</a> are available.</p>

<table>
  <thead>
    <tr>
      <th>URL</th>
      <th>Owner</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>socket1.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>socket2.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
  </tbody>
</table>

<h4 id="public-seed-nodes">Public Seed Nodes</h4>

<p>Seed Nodes are only for syncing the state of blockchain. No API’s are enabled (only p2p port 60000 is opened). 
Users can setup these as “p2p-seed-node” in config.</p>

<table>
  <thead>
    <tr>
      <th>URL</th>
      <th>Owner</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>seednode1.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode2.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode3.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode4.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode5.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
    <tr>
      <td>seednode6.sophiatx.com</td>
      <td>@sophiatx</td>
    </tr>
  </tbody>
</table>

<h4 id="public-witness-nodes">Public Witness Nodes</h4>

<p>There are no public witness nodes.</p>

<h3 id="syncing-blockchain-public-network">Syncing blockchain (public network)</h3>

<p>Normally syncing blockchain starts from very first, <code class="highlighter-rouge">0</code> genesis block. It might take long time to catch up with live network. 
Because it connectes to various p2p nodes in the SophiaTX network and requests blocks from 0 to head block. 
It stores blocks in block log file and builds up the current state in the shared memory file. 
But there is a way to bootstrap syncing by using trusted <code class="highlighter-rouge">block_log</code> file. 
The block log is an external append only log of the blocks. 
It contains blocks that are only added to the log after they are irreversible because the log is append only.</p>

<p>Trusted block log file helps to download blocks faster. SophiaTX, provides public downloadable 
<a href="https://mega.nz/#!bJwCnQgQ!XincxIHD5XRl3vKqQT3xe4mgkqkeQ_8tKzD34tmXDek">block_log</a> and 
<a href="https://mega.nz/#!Sc5gXShT!_6W8Ptu4HrU3TMUE5067RKP0qkNQADnJCy7d4Y-YyLw">block_log.index</a> files. 
As of April 2019, size of both files is ~1 GB.</p>

<p>To download these files, megatools can be used on linux:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install megatools
megadl '&lt;url&gt;'

Note: as url use block_log &amp; block_log.index links above
</code></pre></div></div>

<p>Block log should be place in <code class="highlighter-rouge">blockchain</code> directory below <code class="highlighter-rouge">data_dir</code> and node should be started with <code class="highlighter-rouge">--replay-blockchain</code> 
to ensure block log is valid and continue to sync from the point of snapshot. 
Replay uses the downloaded block log file to build up the shared memory file up to the highest block stored in that snapshot and then 
continues with sync up to the head block.</p>

<p>Replay helps to sync blockchain in much faster rate, but as blockchain grows in size replay might also take some time to verify blocks.</p>

<h5 id="few-other-tricks-that-might-help">Few other tricks that might help:</h5>

<p>For Linux users, virtual memory writes dirty pages of the shared file out to disk more often than is optimal which results in sophiatxd 
being slowed down by redundant IO operations. These settings are recommended to optimize reindex time.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo    75 | sudo tee /proc/sys/vm/dirty_background_ratio
echo  1000 | sudo tee /proc/sys/vm/dirty_expire_centisecs
echo    80 | sudo tee /proc/sys/vm/dirty_ratio
echo 30000 | sudo tee /proc/sys/vm/dirty_writeback_centisecs
</code></pre></div></div>
<p><br /></p>

<p>Another settings that can be changed in <code class="highlighter-rouge">config.ini</code> is <code class="highlighter-rouge">flush-state-interval</code> - it is to specify a target number of blocks to process before flushing the chain database to disk. This is needed on Linux machines and a value of 100000 is recommended. It is not needed on OS X, but can be used if desired.</p>

</div>
<div class="footer">
    <a href="#">↑ Back to top</a>
</div>
<script>
    document.getElementById("open-nav").addEventListener("click", function () {
        document.body.classList.toggle("nav-open");
    });
</script>
</body>
</html>

<script src="/js/adjust.js"></script>
